# OpenCV_HSV_HandFind

OpenCV의 HSV를 사용하여 특정 색 영역의 공간을 검출한다.
HSV는 색을 표현하는 하나의 방법이자, 그 방법에 따라 색을 배치하는 방식이다. 색상(Hue),채도(Saturation),명도(Value)의 좌표를 사용하여 특정한 색을 지정한다. RGB가 색상을 빨강,초록,파랑으로 표현한다면, HSV는 우리가 보는 그대로의 색을 Hue채널로 나타낸다. 색의 진함의 정도를 Saturation 채널로 표현하고. 밝기값을 Value로 결정한다.

프로그램 목적
-------------
OpenCV의 HSV 라이브러리와 DroidCam을 연동, 실시간 영상에서 사용자의 손 모양을 검출한다. 사용자의 손을 검출하고, 바이너리 영상으로 변환한다. 그 후 테두리영역을 검출하고 표시해준다. 실시간으로 사람의 손 모양을 검출함으로써, 수화 프로그램등에 응용할 수 있다.

프로그램 설계
--------------------
우선 DroidCam프로그램을 사용하여, 컴퓨터와 휴대폰의 카메라를 실시간으로 연동한다.
연동된 카메라영상을 cv2의 VideoCapture를 사용하여 영상을 로딩한다. 원본영상을 HSV파일로 변형하고, 살색부분과 그렇지 않은 부분으로 이진영상을 만든다.
만들어진 이진영상을 토대로, 손 모양을 검출하고, cv2.findContours를 사용하여 테두리를 출력한다. 마지막으로 검출된 손을 표시해주면서 실시간 손 검출 프로그램이 완성된다.

프로그램 흐름도(Flow Chart)
---------------------
![image](https://user-images.githubusercontent.com/56360477/135049668-0ec05aae-4561-420f-aaa9-66a2b222ecd6.png)

단계적 구현 방법
-------------------
	STEP 1 : 카메라 로드
	cv2.VideoCature(0) 함수를 사용하여, 카메라영상을 로드한다. while문을 사용하여 Esc키를 입력받을때까지 반복한다.
	
	STEP 2: HSV 살색영역 검출,
	불러온 카메라영상을 HSV로 변환하고, 살색영역의 범위값을 지정해준다. 일반적인 살구색의 범위로, low값으로 (0,30,0)을, high값으로 (15,255,255)값을 지정한다.
	
	STEP 3 : 이진 영상처리
	HSV로 탐색한 살구색의 위치와, 그렇지 않은 부분을 이진화 연산을하여 출력한다.

	STEP 4 : 이진영상의 테두리출력
	CV2.findContours 함수를 사용하여, 바이너리 이미지의 외각부분을 찾아 선으로 표시해준다.
	
	STEP 5 : 손 영역 찾기
	바이너리에서 검출된 이진영상의 테두리중, 가장 큰영역(손 영역)을 찾아 그 주위를 외각선으로 표시해준다.
  
 프로그램 실행 결과
----------------
![image](https://user-images.githubusercontent.com/56360477/135049882-1b8c658c-6f6c-44e2-9ee8-dbd9be153394.png)
![image](https://user-images.githubusercontent.com/56360477/135049893-d4c8e061-2595-4e01-af62-4493cc2ca73f.png)


문제점
-----------
![image](https://user-images.githubusercontent.com/56360477/135049992-ebc29094-ef95-48c2-baff-a2ace9d05c73.png)

난해한 환경에서는 제대로 작동을 하지 않는것을 볼 수 있다. 그 이유는, HSV에서 살색의 영역을 low값과 high값으로 지정해 주었는데, 손바닥 이외에도 비슷한 색상이 있을 경우 손 영역을 검출하지 못한다.
OpenCV의 배경제거 알고리즘을 활용하는 등 다양한 연구가 필요할 것 같다.
